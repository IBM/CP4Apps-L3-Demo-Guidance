
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Guidances for setup demo envrionments and conduct CP4Apps L3 demos">
      
      
        <meta name="author" content="Yi Tang (yitang@us.ibm.com)">
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.27">
    
    
      
        <title>02 Demo Guide - CP4Apps - L3 - Demo - Guidance</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#liberty-dev-mode" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="CP4Apps - L3 - Demo - Guidance" class="md-header__button md-logo" aria-label="CP4Apps - L3 - Demo - Guidance" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CP4Apps - L3 - Demo - Guidance
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              02 Demo Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="CP4Apps - L3 - Demo - Guidance" class="md-nav__button md-logo" aria-label="CP4Apps - L3 - Demo - Guidance" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    CP4Apps - L3 - Demo - Guidance
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Deploy Java App to OCP Demo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Deploy Java App to OCP Demo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Deploy%20Java%20App%20to%20OCP/01%20Environment%20Setup%20Guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Demo Environment Setup Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Deploy%20Java%20App%20to%20OCP/02%20Demo%20Guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Demo Guide
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Liberty dev mode Demo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Liberty dev mode Demo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Liberty Dev Mode/01 Environment Setup Guide.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Demo Environment Setup Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Liberty Dev Mode/02 Demo Guide.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Demo Guide
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hands-on-demo-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Hands-on demo guide
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hands-on demo guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      1 Introduction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-1-create-a-liberty-web-application" class="md-nav__link">
    <span class="md-ellipsis">
      2 1. Create a Liberty web application
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-update-the-whereami-application" class="md-nav__link">
    <span class="md-ellipsis">
      3 Update the whereami application
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-start-liberty-dev-mod" class="md-nav__link">
    <span class="md-ellipsis">
      4 Start Liberty Dev Mod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-update-liberty-server-configuration-with-liberty-code-assistant" class="md-nav__link">
    <span class="md-ellipsis">
      5 Update Liberty server configuration with Liberty Code Assistant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-modify-application-code-with-liberty-code-assistant" class="md-nav__link">
    <span class="md-ellipsis">
      6 Modify application code with Liberty Code Assistant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-conduct-a-unit-test-in-liberty-dev-mode" class="md-nav__link">
    <span class="md-ellipsis">
      7 Conduct a unit test in Liberty dev mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-summary" class="md-nav__link">
    <span class="md-ellipsis">
      8 Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<div><h1 id="liberty-dev-mode">Liberty Dev Mode</h1>
<h2 id="hands-on-demo-guide">Hands-on demo guide</h2>
<h3 id="1-introduction">1    Introduction</h3>
<p>In this demo, you will show how developers can use Open Liberty in dev mode for achieving an efficient iterative develop, test, and debug cycle when developing Java based applications / microservices. Liberty dev mode works with WebSphere Liberty.  </p>
<p>At the end of this demo, you should be able to showcase how to: 
* use Liberty dev mode with an Integrated Development Environment (IDE) 
* use Liberty Code Assistant to change configurations of a Liberty server
* use Liberty Code Assistant to update Java application code
* run integrated unit tests from Liberty dev mode</p>
<p><strong>Open Liberty</strong> is an application server designed for the cloud. It’s small, lightweight, and designed with modern cloud-native application development in mind. </p>
<p>Open Liberty supports the full MicroProfile and Jakarta EE APIs and is composable, meaning that you can use only the features that you need, keeping the server lightweight, which is great for microservices. It also deploys to every major cloud platform, including Docker, Kubernetes, and Cloud Foundry.</p>
<p><strong>Maven</strong> is an automation build tool that provides an efficient way to develop Java applications. </p>
<p>Liberty <strong>development mode</strong>, or <strong>dev mode</strong>, allows developers to develop applications with any text editor or IDE by providing hot reload and deployment, on-demand testing, and debugger support. Liberty dev mode is enabled through Maven and Gradle projects. </p>
<p>With Liberty <strong>dev mode</strong>, the application code is automatically compiled and deployed to the running server, making it easy to iterate on the code changes. </p>
<p>Developers can run tests on-demand or even automatically so that you can get immediate feedback on their changes. They can also attach a debugger at any time to debug their running application.</p>
<p><img alt="" src="../_attachments/image020.png"></p>
<p><strong>Visual Studio Code</strong>  (<strong>VS Code</strong>) is a code editor redefined and optimized for building and debugging modern web and cloud applications. VS Code is the IDE used in this Demo environment.</p>
<p>This demo has the following steps:
1.  Create a Liberty web application
2.  Update the Liberty web application
3.  Run Liberty dev mode using integrated development environment
4.  Update Liberty server configuration with Liberty Code Assistant
5.  Modify application code with Liberty Code Assistant
6.  Conduct a unit test in Liberty dev mode
7.  Summary</p>
<h3 id="2-1-create-a-liberty-web-application">2    1.  Create a Liberty web application</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>Talking Points
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>The objective of this step is to develop a simple web application for Liberty. I will use a Liberty starter application to start from scratch and use VS Code and Liberty Tools to build the application. I will create a Jakarta EE 10 Web application with the name whereamI and will use maven to build it. 
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>The fastest way to get started with Liberty is to use an Open Liberty starter application which generates a project with the maven configuration as well as a basic Liberty setup.
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>The Open Liberty starter gives us a simple, quick way to get the necessary files to start building an application on Open Liberty. There is no need to search how to find out what to add to my maven or gradle build files. A simple RestApplication.java file is generated for us to start creating a REST-based application. A server.xml configuration file is provided with the necessary features for the MicroProfile and Jakarta EE versions that I selected.
</code></pre></div>
<ol>
<li>
<p>Open a browser window by clicking on <strong>Activities</strong> (<strong>A</strong>) and then select the <strong>Firefox browser</strong> (<strong>B</strong>) icon.</p>
<p><img alt="" src="../_attachments/image021.png"></p>
</li>
<li>
<p>Enter the URL https://openliberty.io/start/.
    The Open Liberty Starter page is displayed.</p>
<p><img alt="" src="../_attachments/image022.png"> </p>
</li>
<li>
<p>Change the artifact name to <strong>whereami</strong> (<strong>A</strong>), change the Java level to <strong>17</strong> (<strong>B</strong>) and leave the rest as is, then click <strong>Generate project</strong> (<strong>C</strong>).</p>
<p><img alt="" src="../_attachments/image023.png"></p>
</li>
<li>
<p>Click on <strong>Save</strong> (<strong>A</strong>) to save the project under the <strong>Downloads</strong> directory of the demo VM.</p>
<p><img alt="" src="../_attachments/image024.png"></p>
<p>You will see a pop-up like the one below. Click <strong>Got it!</strong> (<strong>A</strong>) to close the window.</p>
<p><img alt="" src="../_attachments/image025.png"></p>
</li>
<li>
<p>Click <strong>Activities</strong> (<strong>A</strong>) and switch to the <strong>terminal window</strong> (<strong>B</strong>). </p>
<p><img alt="" src="../_attachments/image026.png"> </p>
</li>
<li>
<p>From the terminal window, extract the project zip file to the working directory with the following commands.</p>
<div class="highlight"><pre><span></span><code>mkdir ~/Student

unzip ~/Downloads/whereami.zip -d ~/Student/whereami
</code></pre></div>
<p>The project is extracted to the <strong>~/Student/whereami</strong> directory.</p>
</li>
<li>
<p>Inspect the whereami project artifacts and sour code files created by Open Liberty Starter Application using the command:</p>
<div class="highlight"><pre><span></span><code>ls -l ~/Student/whereami
</code></pre></div>
<p>The whereami project artifacts and sour code files are listed.</p>
<p><img alt="" src="../_attachments/image027.png"></p>
<p>As you can see, the Open Liberty Starter Application creates the project structure and basic artifacts needed for the project. If you want to do development in docker or containers, it has the Dockerfile ready. It also contains the pom file because you selected a maven project in the Starter Application. </p>
</li>
<li>
<p>View the contents of the pom.xml file with the command:</p>
<div class="highlight"><pre><span></span><code>cat ~/Student/whereami/pom.xml
</code></pre></div>
<p><img alt="" src="../_attachments/image028.png"></p>
<p>You see that the pom file has the basic structure of a Java application configuration with maven and it is using MicroProfile and open liberty tools as the starter which allows you to build the application.</p>
</li>
<li>
<p>View the contents of the Liberty server.xml file with the command:</p>
<div class="highlight"><pre><span></span><code>cat ~/Student/whereami/src/main/liberty/config/server.xml
</code></pre></div>
<p><img alt="" src="../_attachments/image029.png"></p>
<p>In the application source what you are seeing is that it is a very simple configuration for the liberty server which is basically pulling in the <strong>Jakarta E10</strong> and the <strong>MicroProfile 6</strong> features that you defined in that starter kit.</p>
<p>Ideally you would list up a fewer of the sub features instead of those convenience features but that's a good way to get started.</p>
</li>
<li>
<p>View the contents of the <strong>RestApplication.java</strong> file with the command:</p>
<div class="highlight"><pre><span></span><code>cat ~/Student/whereami/src/main/java/com/demo/rest/RestApplication.java
</code></pre></div>
<p><img alt="" src="../_attachments/image030.png"></p>
<p>As you can see that the Starter Application creates the starter set for a rest application that you can start developing with. The next step is to add application functions and business logic to the project.</p>
</li>
</ol>
<h3 id="3-update-the-whereami-application">3    Update the whereami application</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>Talking Points
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>In this step, I am going add application functions and business logic to the whereami application. To save time, I am going using the pre-built application code I get from my GitHub repo. The pre-built application code includes the following:
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>1. there are some minor changes to the Liberty server.xml file.
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>2. a servlet class for whereami application, WhereAmI.java, has been created.
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>3. a class for the unit test is added.
</code></pre></div>
<ol>
<li>
<p>Replace the <strong>whereami</strong> application code in the <strong>Student</strong> directory with the pre-built code from the GitHub repo with command:</p>
<div class="highlight"><pre><span></span><code>cp -rf /home/techzone/Liberty-getting-started-lab-files/demoFiles/whereami/ ~/Student/
</code></pre></div>
</li>
<li>
<p>Inspect the updated whereami project artifacts and sour code files using commands:</p>
<div class="highlight"><pre><span></span><code>ls -l ~/Student/whereami
</code></pre></div>
<p>The updated whereami project artifacts and sour code files are listed.</p>
<p><img alt="" src="../_attachments/image031.png"></p>
</li>
<li>
<p>Check and test whereami application in VS Code with commands:</p>
<div class="highlight"><pre><span></span><code>cd ~/Student/whereami

code .
</code></pre></div>
<p>The VS Code UI is opened.</p>
</li>
<li>
<p>Click <strong>Yes, I trust the authors ** (</strong>A**) to continue.</p>
<p><img alt="" src="../_attachments/image032.png"></p>
<p>If you see during the lab one of the pop-ups below or any other pop-up asking to install something, close the pop-up without installation by clicking the <strong>X</strong> (<strong>A</strong>). </p>
<p><img alt="" src="../_attachments/image033.png"></p>
<p>When the project is loaded, you can see that you added the <strong>WhereAmI.java</strong> file as well as a unit test in the project.</p>
<p><img alt="" src="../_attachments/image034.png"></p>
<p>You also configured the Liberty server with all features needed for the application.</p>
</li>
</ol>
<h3 id="4-start-liberty-dev-mod">4    Start Liberty Dev Mod</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>Talking Points
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>Liberty development mode, or dev mode, allows us to develop applications with any text editor or IDE by providing hot reload and deployment, on demand testing, and debugger support. Liberty Dev Mode is enabled through Maven and Gradle projects.
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>My code is automatically compiled and deployed to my running server, making it easy to iterate on my changes.
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>I can run tests on demand or even automatically so that I can get immediate feedback on my changes. I can also attach a debugger at any time to debug my running application.
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>I can use the capabilities of Liberty dev mode inside and outside of an IDE. This provides with me the flexibility of choice. In a terminal window, I could use Liberty in dev mode with maven using the command mvn liberty:dev or mvn liberty:devc if I want to develop in a container.
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>In the demo environment, the Liberty tools plugin has been installed into VS Code. Therefore I will use the integrated Liberty dashboard instead. 
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>I will show how to run Liberty dev mode in VS Code and how to use the Open Liberty Tools in VS Code to work with my server configuration, application code and run integrated unit tests on demand, so that I can get immediate feedback on my changes.
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>In the VS Code environment, I will right-click project under LIBERTY DASHBOARD and select start.  This will start Liberty in dev mode and we will see the following message in the VS Code terminal window: Web application available (default_host): http://localhost:9080/wherami/. I can now access the application URL in the browser window to verify that the application is running.
</code></pre></div>
<ol>
<li>
<p>To start Liberty in Dev Mode right-click <strong>whereami</strong> (<strong>A</strong>)under <strong>LIBERTY DASHBOARD</strong> and select <strong>Start</strong> (<strong>B</strong>). </p>
<p><img alt="" src="../_attachments/image035.png"></p>
<p>In a few seconds, the Liberty server will be up and running, and you can see that the whereami application is ready.</p>
<p><img alt="" src="../_attachments/image036.png"></p>
</li>
<li>
<p>To access the whereami application, open a web browser and enter the application URL as: http://localhost:9080/whereami/.</p>
<p>The application page is displayed.</p>
<p><img alt="" src="../_attachments/image037.png"></p>
<p>It lists the information about Liberty version used, the host name, scheme, context path and port.</p>
</li>
</ol>
<h3 id="5-update-liberty-server-configuration-with-liberty-code-assistant">5    Update Liberty server configuration with Liberty Code Assistant</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Talking Points
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>Now I am going to make changes to the Liberty server configuration and enable the server https port and I am going to use Liberty code assistant to speed up the server configuration process.
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>In order to active the https port of the Liberty server, I need to add the transport security feature to the Liberty server and I can do it with Liberty code assistant.
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>I will demonstrate that I can update Liberty server configuration using Liberty code assistant and activate the https protocol without stopping or restarting the Liberty server.
</code></pre></div>
<ol>
<li>
<p>In the VS Code environment, click to open the Liberty server configuration file <strong>server.xml</strong> (<strong>A</strong>) under the <strong>target/liberty/wlp/usr/server/defaultServer</strong> folder.</p>
<p><img alt="" src="../_attachments/image038.png"></p>
<p>You can see that the https port is set as 9443.</p>
</li>
<li>
<p>If you try to access the application from the browser window using the https port as: <strong>https://localhost:9443/whereami/</strong> (<strong>A</strong>), you will get the Unable to connect error because although the https port value is defined, the https port is not activated on the Liberty server yet.</p>
<p><img alt="" src="../_attachments/image039.png"></p>
</li>
<li>
<p>Back to VS Code, add a new line after <strong><feature>servlet-6.0</feature></strong> (<strong>A</strong>) in the <strong>server.xml</strong> file, and activate the Liberty code assistant by pressing <strong>CTRL+SPACE</strong>, the code assistance window is shown.</p>
<p><img alt="" src="../_attachments/image040.png"></p>
</li>
<li>
<p>Select <strong>feature</strong> (<strong>A</strong>) from the code assistant window to add a new feature element.</p>
<p><img alt="" src="../_attachments/image041.png">  </p>
<p>This will add a new feature element to the file.</p>
<p><img alt="" src="../_attachments/image042.png"></p>
</li>
<li>
<p>Type <strong>tr</strong> (<strong>A</strong>) in the feature field, the code assistant will offer the feature names containing the word tr.  Select the <strong>transportSecurity-1.0</strong> (<strong>B</strong>) to add the feature.</p>
<p><img alt="" src="../_attachments/image043.png"></p>
<p>As you can see that in Liberty Dev Mod, once the new feature is added, the server configuration is dynamically updated. Liberty code assistant automatically detects that the <strong>transportSecurity-1.0</strong> feature requires the <strong>ssl-1.0</strong> feature, so it adds the <strong>ssl-1.0</strong> feature to the Liberty server configuration as well. </p>
<p><img alt="" src="../_attachments/image044.png"></p>
</li>
<li>
<p>Now the https port is activated, if you try again to access the application from the browser window using the https port as: https://localhost:9443/whereami/ and accept the warning messages, you will get the application page.</p>
<p><img alt="" src="../_attachments/image045.png"></p>
<p>You can see now the protocol scheme is https and the port is 9443 which means that the https protocol is activated.</p>
<p>This demonstrates that using Liberty code assistance you can modify Liberty server configuration without restart the server.</p>
</li>
</ol>
<h3 id="6-modify-application-code-with-liberty-code-assistant">6    Modify application code with Liberty Code Assistant</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>Talking Points
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>In the previous section, I shown how to use Liberty code assistance to update the Liberty server configuration. 
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>Now I am going to use Liberty code assistant to make quick modifications to the application code. I will make code modifications to change the color of the text showing on the application page for different network protocols. I will have the red color for http protocol and the green color for https protocol. I will show how easy it is to make change the application code with the help of Liberty Code Assistant in Liberty Dev Mod.
</code></pre></div>
<ol>
<li>
<p>In the VS Code environment, click to open the servlet java file <strong>WhereAmI.java</strong> (<strong>A</strong>) under <strong>src/main/java/com/demo</strong>.</p>
<p><img alt="" src="../_attachments/image046.png"></p>
</li>
<li>
<p>Scroll down to <strong>line 45</strong> (<strong>A</strong>) and create a <strong>new line</strong> (<strong>B</strong>) in the file.</p>
<p><img alt="" src="../_attachments/image047.png"> </p>
</li>
<li>
<p>Type <strong>i</strong> (<strong>A</strong>) and use Liberty code assistant (<strong>CTRL+SPACE</strong>) to select the <strong>if statement</strong> (<strong>B</strong>).</p>
<p><img alt="" src="../_attachments/image048.png"></p>
</li>
<li>
<p>Highlight <strong>condtion:var(boolean)</strong> (<strong>A</strong>), press C<strong>TRL+SPACE</strong> and select <strong>httpScheme</strong> (<strong>B</strong>).</p>
<p><img alt="" src="../_attachments/image049.png"></p>
</li>
<li>
<p>Type <strong>== "http"</strong> (<strong>A</strong>) next to <strong>httpScheme</strong>.</p>
<p><img alt="" src="../_attachments/image050.png"> </p>
</li>
<li>
<p>Move to the <strong>next line</strong> (<strong>A</strong>), press <strong>CTRL+SPACE</strong>, and select <strong>zone</strong> (<strong>B</strong>).</p>
<p><img alt="" src="../_attachments/image051.png"> </p>
</li>
<li>
<p>Type <strong>= "red";</strong> (<strong>A</strong>) next to the <strong>zone</strong>.</p>
<p><img alt="" src="../_attachments/image052.png"></p>
</li>
<li>
<p>Repeat the same process to add another if statement like this:</p>
<div class="highlight"><pre><span></span><code>if (httpScheme == "https") {
    zone = "green";
}
</code></pre></div>
<p>You should see the application code you added as:</p>
<p><img alt="" src="../_attachments/image053.png"></p>
</li>
<li>
<p>To verify the code changes, you can access the application page in the browser window with both http and https ports, and you can see the changes you made to the application.</p>
<p><img alt="" src="../_attachments/image054.png">
<img alt="" src="../_attachments/image055.png"></p>
<p>As you can see that when you made changes to your code, the changes were automatically saved and Liberty server adopted these new changes dynamically without re-starting. So as a developer, you can quick change, test and verify my application code.</p>
</li>
</ol>
<h3 id="7-conduct-a-unit-test-in-liberty-dev-mode">7    Conduct a unit test in Liberty dev mode</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>Talking Points
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>With Liberty Dev Mod, it is easy to conduct a unit test in the IDE.  Within the IDE, I can run the unit test and integration test by right-clicking project under LIBERTY DEV DASHBOARD and select run test.  This will active the test run and show the test results in the VS Code terminal window.  Another way to activate the unit test is to press the Enter key in the VS Code terminal window.
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>In this section I will show how to do a unit test. The test is designed to check if the title of the application is in capital letters or not.  It will be successful if the title of the application is in capital letters, otherwise it will fail.
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>By default, the title of the application is not in all capital letters, so my unit test will fail and provide information about where the issue is and how to fix it.  Based on the information, I will fix the error and run the test again, the unit test will be a success after the code fixing.  I will demonstrate how the Liberty Code Assistant and Liberty Dev Mod can help speed up the unit test process.
</code></pre></div>
<p>As you know from the previous section, the title of the application, Where Am I Running?,  is not all in capital letters as shown below:</p>
<p><img alt="" src="../_attachments/image054.png"></p>
<p>So your unite test will not going to be successful as expected.</p>
<ol>
<li>
<p>From the VS Code environment, go to the <strong>terminal window</strong> and press <strong>Enter</strong> (<strong>A</strong>).</p>
<p><img alt="" src="../_attachments/image056.png"></p>
<p>This will activate the unit test and integration test. You will see that the tests will fail with the message: FAIL! ---&gt; The header is in ‘lower case’!.</p>
<p><img alt="" src="../_attachments/image057.png"></p>
</li>
<li>
<p>To fix the error, you need to update your code. Go back to WhereAmI.java file in VS Code, <strong>scroll down</strong> (<strong>A</strong>) and go to the <strong>line 64</strong> (<strong>B</strong>).</p>
<p><img alt="" src="../_attachments/image058.png"></p>
</li>
<li>
<p>Type <strong>w</strong> (<strong>A</strong>) in the new line and use Liberty code assistant (<strong>CTRL+SPACE</strong>) to select <strong>whereami</strong> (<strong>B</strong>).</p>
<p><img alt="" src="../_attachments/image059.png"></p>
</li>
<li>
<p>Type <strong>=</strong> (<strong>A</strong>) after <strong>whereami</strong>, press <strong>CTRL+SPACE</strong> and select <strong>whereami</strong> (<strong>B</strong>).</p>
<p><img alt="" src="../_attachments/image060.png"></p>
</li>
<li>
<p>Type <strong>.u</strong> (<strong>A</strong>) after <strong>wherami</strong> and select <strong>toUpperCase()</strong> (<strong>B</strong>).</p>
<p><img alt="" src="../_attachments/image061.png"></p>
</li>
<li>
<p>Type <strong>;</strong> (<strong>A</strong>) in the end and the code change will look like this:</p>
<p><img alt="" src="../_attachments/image062.png"></p>
</li>
<li>
<p>Now go back to run your unite test again from the VS Code terminal window by pressing <strong>Enter</strong> (<strong>A</strong>).</p>
<p><img alt="" src="../_attachments/image063.png"></p>
<p>You will see that the unit test and integration test are successful with the message: PASS ! ---&gt; The head has been converted to UPPER CASE!.</p>
<p><img alt="" src="../_attachments/image064.png"></p>
</li>
<li>
<p>You can verify it in the whereami application at http://localhost:9080/whereami/.</p>
<p><img alt="" src="../_attachments/image065.png"></p>
<p>You can see that the change is made to the application title.</p>
</li>
</ol>
<h3 id="8-summary">8    Summary</h3>
<p>In this demo, you learned how developers can use Liberty in dev mode for achieving efficient iterative develop, test, debug cycle when developing Java based applications / microservices. As you explored the fast and efficient inner-loop development experience using the Liberty dev mode and VS Code IDE, your code was automatically compiled and deployed to the running server, making it easy to iterate on your changes. </p></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 IBM
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.top", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
    
  </body>
</html>